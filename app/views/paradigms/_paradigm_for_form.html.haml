- pdgid = paradigm.paradigm_type_id
- idx ||= 0
- current_word ||= nil

//= hidden_field_tag :paradigm_id, pdgid

%table.paradigm
  %thead
    %tr
      %th.tag Tag
      %th.word
        %a.click_to_copy Word
  %tbody
    - paradigm.each_word_with_tag do |word, tag|
      -# For 'other' paradigm type, make the current word appear in the pdg stub
      - if current_word && tag.notag? && ! word.text
        - word = current_word

      %tr
        -# TAG input | WORD input
        %td.tag.balloon
          = text_field_tag  "pdg[#{idx}][#{pdgid}][#{tag.id}][tag]", "#{tag.name}", |
                            class: "tag", readonly: tag.readonly_html?
          %span= tag.description
        %td.word= text_field_tag "pdg[#{idx}][#{pdgid}][#{tag.id}][#{word.id_or_label}]", |
                            word.text, class: "word"
    -# extras: comment area
    %tr.comment
      %td= label_tag      "pdg[#{idx}][#{pdgid}][extras][comment]", "Comment"
      %td= text_field_tag "pdg[#{idx}][#{pdgid}][extras][comment]"
    -# extras: radio boxes for statuses
    %tr.last
      %td{colspan:2}
        = render partial: 'radioset_status', locals: { pdgid: pdgid, idx: idx }
